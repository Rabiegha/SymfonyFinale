{% extends 'base.html.twig' %}

{% block title %}Hello ProductController!{% endblock %}

{% block body %}
{% include "_inc/nav.html.twig" %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>


<div class="container">
    <div class="row">
        <h2>Products Management</h2>

        {% for notice in app.flashes('notice') %}
        <p class="alert alert-success">{{notice}}</p>        
        {% endfor %}
        <p>
            <a class="btn btn-info" href="{{url('admin.product.form')}}">Add</a>
            <table class="table table-striped">
                <tr>
                    <th>Image</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Operations</th>
                </tr>
                {% for product in products %}

                <tr>
                    <td class="w-25">
                        <img class="img-fluid" src=" {{asset('img/' ~ product.image)}} " alt="">
                    </td>
                    <td>{{product.name}}</td>
                    <td>{{product.price}}</td>
                    <td>{{product.quantity}}</td>
                    <td>
                        <a class="btn btn-warning" href="{{url('admin.product.update',{id: product.id})}}">Edit</a>
                        <a class="btn btn-danger" href="{{url('admin.product.delete',{id: product.id})}}">Delete</a>
                    </td>
                </tr>
                    
                {% endfor %}
            </table>
        </p>
    </div>
</div>
{% endblock %}
